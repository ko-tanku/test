# 第4章: リアルタイムシステム

リアルタイムシステムの概念を学び、演習問題で理解を深めます。

## リアルタイムシステムの分類

!!! warning "ハードリアルタイムシステム"
    デッドラインを1回でも守れないとシステム全体が破綻します。
    例：航空機の制御システム、原子力発電所の制御

!!! info "ソフトリアルタイムシステム"
    デッドラインを時々守れなくても、品質が低下するだけです。
    例：動画ストリーミング、オンラインゲーム

## スケジューリングアルゴリズム

??? question "クイズ"
    優先度ベースのスケジューリングで最も重要な概念は？

    [ ] FIFO
    [x] プリエンプション
    [ ] ラウンドロビン

    ??? tip "ヒント"
        高優先度タスクが低優先度タスクを中断できる仕組み

    ??? success "解説"
        プリエンプションにより、緊急タスクが即座に実行されます。

## まとめ

!!! note "第4章の要点"
    - リアルタイムシステムには「ハード」と「ソフト」の2種類がある
    - デッドラインの厳格さが異なる
    - プリエンプションにより優先度の高いタスクが実行される
    - スケジューリングアルゴリズムがシステムの性能を左右する

## よくある質問

以下はこの章に関するFAQの抜粋です：

??? question "RTOSは必ず必要ですか？"
    小規模なシステムではベアメタルプログラミングでも十分な場合があります。

## 演習問題

??? question "演習問題（medium）"
    **問題**: エレベーターの制御システムはハードリアルタイムですか、ソフトリアルタイムですか？理由も説明してください。
    
    **解答**: ハードリアルタイムシステム。扉の開閉制御や非常停止などは、決められた時間内に確実に動作しなければ人命に関わるため。
    
    **解説**: エレベーターは安全性が最優先されるシステムで、タイミングの遅れは許されません。

??? warning "演習問題（hard）"
    **問題**: 車載ECUでプリエンプションが無効だとどのような問題が起きる可能性がありますか？
    
    **解答**: エアバッグの展開やABSの作動など、緊急性の高い処理が通常処理の終了を待つ必要があり、致命的な遅延が発生する可能性がある。
    
    **解説**: 車載システムでは、安全に関わる処理が最優先で実行される必要があります。

??? tip "演習問題（easy）"
    **問題**: ソフトリアルタイムシステムの例を3つ挙げてください。
    
    **解答**: 1. 動画ストリーミング 2. オンラインゲーム 3. 音声通話アプリ
    
    **解説**: これらは多少の遅延があっても機能は継続しますが、品質が低下します。
