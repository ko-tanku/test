# 拡張コンポーネント包括テスト - YAML駆動アーキテクチャ対応版

このページでは、**YAML駆動アーキテクチャに移行した**IT・組み込みシステム教育用拡張コンポーネントの完全な機能テストを実施します。従来のハードコーディング制約を解消し、教育コンテンツに最適化された柔軟なレイアウト制御を実現した新アーキテクチャの効果を検証します。

## 🚀 YAML駆動アーキテクチャ改修の成果

### アーキテクチャ改善点
**従来の課題:**
- ❌ コンポーネント内でのハードコーディング（`height: 400px`、`layerHeight: 100`等）
- ❌ 内容量に関係なく固定サイズでの表示
- ❌ レイアウト調整時にコンポーネント修正が必要

**新アーキテクチャの特徴:**
- ✅ **コンポーネント = 型（テンプレート）**: 描画ロジックとスタイルの枠組みのみ
- ✅ **YAML = 具体的設定**: 画面サイズ、要素配置、間隔、色など詳細な制御
- ✅ **用途別最適化**: 同じコンポーネントでも教育内容に応じて最適なレイアウト

### YAML制御例
```yaml
layout:
  container:
    height: 600  # 従来の窮屈さを解消
    width: '100%'
  layers:
    height: 90   # レイヤー高さを動的調整
    spacing: 15  # 間隔を内容に応じて調整
  protocolPanel:
    position: 'top-right'  # 被りを避ける最適配置
    width: 300
    maxHeight: 250
```

## テスト概要

### 対象コンポーネント（YAML駆動対応）
1. **InteractiveFlowchart** - SystemArchitectureViewer + 柔軟レイアウト制御
2. **Timeline** - DevelopmentProcessFlow + 動的間隔調整
3. **SimpleChart** - 波形表示 + 動的サイズ制御
4. **DataFlowSimulator** - ネットワーク階層表示 + 最適配置制御

### テストカテゴリ
- 🔧 **機能テスト**: 各機能の正常動作確認
- 📊 **データ処理テスト**: 様々なデータ形式への対応確認
- ⚠️ **エッジケーステスト**: 異常データ・境界値での動作確認
- 🚀 **パフォーマンステスト**: 大量データでの処理性能確認
- 🎯 **実用性テスト**: 実際の教育シーンでの有用性確認

---

## 1. InteractiveFlowchart - SystemArchitectureViewer機能

### 1.1 基本フローチャートモード
システム設計における標準的なフローチャート作成機能をテストします。

**期待する動作:**
- ✅ 各ステップ（開始・処理・判定・終了）の正しい表示
- ✅ ステップ間の接続線の適切な描画
- ✅ インタラクティブな要素選択とツールチップ表示
- ✅ 各ステップタイプに応じた適切な色分けとスタイリング

### 1.2 CPUアーキテクチャモード 🧠 (YAML駆動対応)
**新機能**: 組み込みシステムのハードウェア構成を視覚的に表現

**YAML駆動改善効果:**
- 📐 **動的サイズ調整**: コンテナ幅900px、高さ500px（従来400px）で情報密度最適化
- 🎯 **ツールチップ最適化**: 幅350px、高さ250px（従来300×200）で詳細情報を余裕をもって表示
- 📏 **レジェンド拡張**: 幅180px（従来150px）でバス種類説明を見やすく表示

**テスト内容:**
- CPU、メモリ、キャッシュ、システムバスの表示
- 技術仕様情報（クロック周波数、容量、レイテンシ等）の表示
- アイコン表示によるコンポーネント識別
- 詳細な技術説明とスペック情報の展開表示

**期待する動作:**
- ✅ ハードウェアコンポーネント専用のスタイリング適用
- ✅ ズーム機能による詳細表示の拡大・縮小
- ✅ レジェンド表示によるバスタイプの説明
- ✅ **改善**: ビューポート認識型ツールチップで画面外はみ出し防止
- ✅ **改善**: 拡張されたツールチップサイズで技術詳細の読みやすさ向上

### 1.3 バス接続表示
**新機能**: データバス・制御バス・アドレスバスの種類別可視化

**期待する動作:**
- 🔵 **データバス**: プライマリーカラーで太線表示
- 🟡 **制御バス**: 警告カラーで破線表示  
- 🟢 **アドレスバス**: 成功カラーで実線表示
- ✅ バス上のデータラベル表示

### 1.4 メモリマップ表示
**新機能**: 組み込みシステムのメモリ配置を視覚化

**期待する動作:**
- ✅ ROM、RAM、周辺機器、外部メモリ領域の区分表示
- ✅ アドレス範囲とサイズ情報の表示
- ✅ メモリタイプに応じた色分け
- ✅ Memory Mapped I/Oの特別表示

---

## 2. Timeline - DevelopmentProcessFlow機能

### 2.1 基本タイムライン表示
プロジェクトの時系列イベント表示機能をテストします。

**期待する動作:**
- ✅ 時系列に沿ったイベントの正しい配置
- ✅ 日付情報と説明文の適切な表示
- ✅ タグ機能によるイベント分類
- ✅ インタラクティブな詳細表示

### 2.2 V字モデル開発プロセス 📈 (YAML駆動対応)
**新機能**: ソフトウェア開発プロセスの可視化

**YAML駆動改善効果:**
- 📏 **間隔最適化**: イベント間隔140px（従来120px）で依存関係線の視認性向上
- 📄 **コンテンツ拡張**: 幅400px（従来300px）で成果物リストを余裕をもって表示
- 📋 **詳細表示拡張**: 高さ250px（従来200px）で技術ポイントの詳細説明を充実
- 🔗 **依存関係改善**: オフセット50px（従来40px）で線の被り解消

**テスト内容:**
- 要件定義→設計→実装→テスト→デプロイメントの工程表示
- 各フェーズの成果物リスト表示
- 技術的ポイントの詳細説明
- 工程間の依存関係表示

**期待する動作:**
- 🔵 **要件定義**: 情報カラーでアイコン表示
- 🟡 **設計**: 警告カラーでアイコン表示
- 🟢 **実装**: プライマリーカラーでアイコン表示
- 🟢 **テスト**: 成功カラーでアイコン表示
- 🔴 **デプロイ**: 危険カラーでアイコン表示
- ✅ 各フェーズの期間表示
- ✅ マイルストーンと成果物の区別表示
- ✅ **改善**: 拡張されたコンテンツ幅で成果物の詳細説明を見やすく表示

### 2.3 Git Flow開発モデル 🌿
**新機能**: Git ブランチ戦略の可視化

**テスト内容:**
- main、develop、feature、release、hotfixブランチの表示
- ブランチ間のマージとコンフリクト表示
- コミット数とブランチ情報の表示

**期待する動作:**
- ✅ ブランチタイプに応じた適切なアイコン表示
- ✅ マージ操作の視覚的表現
- ✅ ブランチ保護ルールや開発規約の説明表示
- ✅ タグ付きリリースの特別表示

### 2.4 依存関係表示
**新機能**: 工程間の依存関係を矢印で可視化

**期待する動作:**
- ✅ 前工程完了が必要な場合の依存線表示
- ✅ 並行実行可能な工程の明確な区別
- ✅ クリティカルパスの強調表示

---

## 3. SimpleChart - 波形表示機能

### 3.1 従来のチャートタイプ
既存の棒グラフ・折れ線グラフ・円グラフ機能の動作を確認します。

**期待する動作:**
- ✅ 各チャートタイプの正しい描画
- ✅ データラベルと軸ラベルの適切な表示
- ✅ レスポンシブ対応による画面サイズ適応

### 3.2 アナログ波形表示 📊
**新機能**: 連続的なアナログ信号の波形表示

**テスト内容:**
- サイン波、方形波、三角波等の波形描画
- 時間軸とamplitude軸の適切なスケーリング
- グリッド表示による読み取りやすさの向上

**期待する動作:**
- ✅ 滑らかな曲線による波形描画
- ✅ 時間単位（ms、μs、ns等）の適切な表示
- ✅ 振幅スケールの自動調整
- ✅ グリッド線による値読み取り支援

### 3.3 デジタル信号表示 🔲 (YAML駆動対応)
**新機能**: High/Lowレベルのデジタル信号表示

**YAML駆動改善効果:**
- 📐 **サイズ最適化**: チャート幅900px、高さ250px（従来800×200）でプロトコル詳細の視認性向上
- 📊 **チャンネル拡張**: チャンネル高80px、間隔15px（従来60×10）で信号の読み取りやすさ向上
- 📏 **マージン調整**: 上40px、下50px、左80px（従来30×40×50）でラベル表示領域確保
- 🎨 **テキスト最適化**: タイトル18px、ラベル14px（従来16×12）で情報の階層表示

**テスト内容:**
- I2C通信プロトコル（SCL、SDAライン）
- SPI通信プロトコル（SCLK、MOSI、MISO、CSライン）
- UART通信プロトコル

**期待する動作:**
- ✅ クリアなHigh/Low レベル表示
- ✅ 信号遷移のエッジ表現
- ✅ 各チャンネルの明確な区分表示
- ✅ プロトコル固有の信号パターン表現
- ✅ **改善**: 拡張されたチャンネル高による信号波形の詳細表示
- ✅ **改善**: 最適化されたマージンによるラベル可読性向上

### 3.4 マルチチャンネル対応 📡
**新機能**: 複数信号の同時表示と比較

**テスト内容:**
- 複数のアナログ信号の重ね合わせ表示
- 各チャンネルの色分け表示
- チャンネル名とレジェンド表示

**期待する動作:**
- ✅ チャンネル間の位相関係の明確な表示
- ✅ 各チャンネルの独立したスケーリング
- ✅ チャンネル選択による表示ON/OFF切り替え
- ✅ 異なる周波数信号の同時表示

---

## 4. DataFlowSimulator - ネットワーク階層表示

### 4.1 基本データフロー
システム内のデータの流れを可視化する基本機能をテストします。

**期待する動作:**
- ✅ ノード間のデータフロー表示
- ✅ アニメーション効果による動的な流れ表現
- ✅ フロー情報の詳細表示
- ✅ 手動・自動再生の制御機能

### 4.2 OSI参照モデル 🌐 (YAML駆動対応)
**新機能**: 簡略化ネットワークモデルの階層表示

**YAML駆動改善効果:**
- 📐 **コンテナ拡張**: 高さ550px（従来800px）で適切な層密度を実現
- 📊 **レイヤー最適化**: 各層高110px、間隔20px（従来100×10）で詰まりを大幅解消
- 🎯 **ノード配置改善**: 間隔300px（従来200px）で要素の重なりを防止
- 📍 **パネル配置最適化**: プロトコル情報パネルを左下に配置（280×200）して視線の邪魔を回避

**テスト内容:**
- 簡略化4層モデル（従来7層から見やすさを重視して簡略化）
- 各層でのプロトコル情報表示
- 層間でのデータ変換過程の可視化
- Webアクセス時のプロトコルスタック動作

**期待する動作:**
- ✅ 各層の背景色による明確な区分
- ✅ 層番号とレイヤー名の表示
- ✅ プロトコル情報パネルの詳細表示
- ✅ 実際のWebアクセスフローの再現
- ✅ **改善**: レイヤー間隔拡大による構造の明確化
- ✅ **改善**: パネル配置最適化による情報確認の容易性

### 4.3 IoT通信スタック 📱 (YAML駆動対応)
**新機能**: IoTデバイス特有の軽量通信プロトコル表示

**YAML駆動改善効果:**
- 📐 **コンテナ最適化**: 高さ600px（従来800px）で5層構成に適した表示密度
- 📊 **レイヤー拡張**: 各層高90px、間隔15px（従来80×10）で階層構造の明確化
- 🎯 **ノード配置改善**: 間隔120px（従来200px）でコンパクトながら読みやすい配置
- 📍 **パネル配置変更**: プロトコル情報パネルを右上に配置（300×250）してレイヤーラベルとの被りを解消

**テスト内容:**
- MQTT over 6LoWPAN over ZigBeeスタック
- CoAP（Constrained Application Protocol）表示
- センサーデータ送信フローの可視化

**期待する動作:**
- ✅ 省電力通信プロトコルの特徴表示
- ✅ メッシュネットワーク構成の表現
- ✅ センサーデータのJSONシリアライゼーション表示
- ✅ **改善**: レイヤー高さ拡張による各プロトコル情報の詳細表示
- ✅ **改善**: プロトコル情報パネル配置最適化による情報アクセス性向上

### 4.4 マイクロサービスアーキテクチャ 🏗️
**新機能**: 分散システムの複雑な相互作用表示

**テスト内容:**
- API Gateway、認証サービス、ビジネスロジック分離
- データベース分散とメッセージキュー
- 非同期処理フローの表示

**期待する動作:**
- ✅ サービス間の疎結合関係の表現
- ✅ 非同期メッセージパッシングの可視化
- ✅ 各サービスの責任範囲の明確な表示

---

## 5. エッジケース・例外処理テスト

### 5.1 空データ処理
各コンポーネントが空のデータセットを適切に処理することを確認します。

**期待する動作:**
- ✅ エラーメッセージではなく適切な空状態表示
- ✅ ユーザーフレンドリーなメッセージ表示
- ✅ レイアウト崩れの防止

### 5.2 不正データ処理
不正な形式や不完全なデータに対する頑健性をテストします。

**期待する動作:**
- ✅ 無効なプロパティの無視と継続動作
- ✅ 必須フィールド欠如時のデフォルト値適用
- ✅ 型不整合時の適切なフォールバック処理

### 5.3 大量データ処理
1000点以上の大量データでのパフォーマンスを評価します。

**期待する動作:**
- ✅ レスポンシブな描画パフォーマンス維持
- ✅ メモリ使用量の適切な管理
- ✅ UIブロッキングの回避

---

## 6. レスポンシブ・アクセシビリティテスト

### 6.1 画面サイズ対応
異なるデバイスサイズでの表示品質を確認します。

**テスト対象:**
- 📱 モバイル（320px-768px）
- 📟 タブレット（768px-1024px）  
- 🖥️ デスクトップ（1024px以上）

**期待する動作:**
- ✅ 各画面サイズでの適切なレイアウト調整
- ✅ テキストとボタンの適切なサイズ維持
- ✅ スクロール・ナビゲーションの使いやすさ

### 6.2 アクセシビリティ
障がい者や高齢者にとっての使いやすさを確認します。

**期待する動作:**
- ✅ キーボードナビゲーション対応
- ✅ スクリーンリーダー対応のセマンティック構造
- ✅ 十分なカラーコントラスト確保
- ✅ フォント拡大時のレイアウト維持

---

## テスト実施方法

### 手動テスト手順
1. **視覚確認**: 各コンポーネントが期待通りに描画されているか確認
2. **インタラクション確認**: クリック、ホバー、ズーム等の動作確認
3. **データ確認**: 表示される情報の正確性確認
4. **レスポンシブ確認**: 異なる画面サイズでの表示確認
5. **パフォーマンス確認**: 操作レスポンスの確認

### 自動テスト観点
- コンポーネントの正常レンダリング
- プロパティの適切な反映
- エラーハンドリングの動作
- パフォーマンス指標の測定

### 合格基準
- ✅ 全ての基本機能が正常動作
- ✅ 拡張機能が仕様通りに動作
- ✅ エッジケースで適切なエラー処理
- ✅ レスポンシブ対応が完全
- ✅ パフォーマンスが実用レベル

---

## 期待される学習効果

このYAML駆動アーキテクチャ対応テストを完了することで、受講者は以下の知識・スキルを習得できます：

### 技術的理解
- 🧠 **システムアーキテクチャ**: CPUとメモリの関係、バス構成の理解
- 📈 **開発プロセス**: V字モデル、アジャイル開発、Git Flow の実践的理解
- 📊 **信号処理**: アナログ・デジタル信号の特性と可視化手法
- 🌐 **ネットワーク**: OSI参照モデル、IoT通信、マイクロサービスの理解
- 🏗️ **アーキテクチャ設計**: YAML駆動設計による柔軟性と保守性の実現

### 実務スキル
- 🛠️ **システム設計**: ハードウェア・ソフトウェア設計での視覚化活用
- 🔄 **プロセス管理**: 開発工程の管理と依存関係の把握
- 📡 **通信設計**: プロトコル選択と通信フロー設計
- 🎯 **品質保証**: テスト観点とエッジケース考慮の重要性
- ⚙️ **柔軟な設計**: コンポーネントの汎用性と設定の分離設計手法

### 教育・指導スキル  
- 📚 **視覚的教授法**: 複雑な概念の効果的な可視化手法
- 🎓 **段階的学習**: 基礎から応用への適切な学習段階設計
- 💡 **実践的指導**: 理論と実践を結ぶ教育コンテンツ作成
- 🎨 **カスタマイゼーション**: 教育内容に応じた最適レイアウト設計手法

このテストページは、IT・組み込みシステム教育における実践的なスキル習得を支援する包括的な学習リソースとして設計されています。