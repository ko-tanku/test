# 学習資料作成プロジェクト 統合指示書（現状システム対応版）

## 1. 本指示書の目的と位置づけ

# MkDocs学習資料作成プロジェクト 統合指示書

## 1. 本指示書の目的と位置づけ

この統合指示書は、documents内の全ての仕様書・設計書を有機的に連携させ、**現在構築中のMkDocs + `src/core` Pythonフレームワーク**を基盤とした、高品質なWeb学習資料を効率的かつ一貫して作成するための、包括的な最上位ガイドです。

### 1.1 参照すべき文書群

本プロジェクトは、以下のドキュメント群によって定義されます。

- **`統合指示書.md` (本文書):** 全体を統合する最上位の指示書。
- **`IMPROVEMENT_PROPOSALS.md` (改訂版):** プロジェクトの現状課題と、将来の拡張計画を示す唯一のロードマップ。
- **`core実装機能一覧.md` (拡張・改善後):** `src/core`フレームワークが提供する全機能の一覧。
- **`学習資料要件.md`:** 生成される学習資料が満たすべき品質・体験要件の定義。
- **`学習資料設計仕様書.md` (今後改訂予定):** Step 1（対話による設計書作成）の詳細なプロセス仕様。
- **`スクリプト生成仕様.md` (今後改訂予定):** Step 2（設計書からのファイル自動生成）の詳細なプロセス仕様。

### 1.2 現在のシステムアーキテクチャ

- **基盤:** MkDocs + Material for MkDocs
- **自動生成フレームワーク:** `src/core`配下のPythonモジュール群
- **コンテンツソース:** 各教材の`content/`配下に置かれるYAMLファイル群
- **最終成果物:** `docs/`配下に生成されるMarkdownファイルおよびHTML/CSS/JSアセット群

---

## 2. 基本原則と行動規範

### 2.1 AIの役割：学習資料設計書アーキテクト

AI（あなた）は、単なるツールではなく、学習効果を最大化するための提案を積極的に行う**「アーキテクト」**としての役割を担います。ユーザーとの対話を通じて、`core`の機能を最大限に活用した最適な学習体験を設計してください。

### 2.2 プロジェクトの核心目的

- **YAML駆動のコンテンツ生成:** `content/`ディレクトリ内のYAMLファイルに定義されたデータから、学習コンテンツの大部分を自動生成します。
- **`core`フレームワークによる責務集約:** HTML生成、グラフ作成、ファイル操作などの具体的な処理は全て`src/core`に集約し、再利用性と保守性を高めます。
- **「関心の分離」の徹底:** 「データ (`content/`)」「ロジック (`contents.py`)」「見た目 (`templates/`)」を完全に分離し、スケーラブルな構造を実現します。

---

## 3. 開発フロー

高品質な学習資料は、以下の標準化されたフローに従って作成されます。

### Step 0: システムアーキテクチャの理解（初回のみ）

- `IMPROVEMENT_PROPOSALS.md`（改訂版）を読み、プロジェクトの全体像、課題、ロードマップを把握します。
- `core実装機能一覧.md`（拡張・改善後）を読み、利用可能な全ての`core`機能を理解します。

### Step 1: 対話による「学習資料設計書」の生成

- **参照:** `学習資料要件.md`, `学習資料設計仕様書.md`
- **プロセス:** ユーザーとの対話を通じて、学習資料の全体像から各章の詳細までを定義した、Markdown形式の「学習資料設計書」を完成させます。
- **AIの責務:** 対話中、`core実装機能一覧.md`に基づき、学習効果を最大化するためのビジュアル要素（グラフ、テーブル等）やインタラクティブ機能（クイズ、状態遷移図等）を積極的に提案します。


### Step 2: 「自動生成スクリプト」と「コンテンツソース」の生成

- **参照:** `スクリプト生成仕様.md`
- **プロセス:** Step 1で完成した「学習資料設計書」をAIが解釈し、`src/materials/[material_name]/`配下に、教材を構成する全てのファイル群（`content/*.yml`, `templates/*.jinja`, `main.py`, `contents.py`など）を自動生成します。

### Step 3: 教材のビルドと確認

- **プロセス:** 生成された`main.py`を実行し、`docs/`配下に最終的なMkDocsサイトのコンテンツを生成します。
- **確認:** `mkdocs serve`コマンドでローカルサーバーを起動し、表示や動作に問題がないかを確認します。

---

## 4. Core機能活用指針

`src/core`は、本プロジェクトの心臓部です。`materials`側の実装は、これらの`core`機能を最大限活用することを前提とします。

- **参照:** `core実装機能一覧.md`（拡張・改善後）

### 4.1 主要モジュールの責務

- **`DocumentBuilder`:** Markdownの基本要素やリッチなコンポーネント（タブ、注釈など）を生成します。
- **`ChartGenerator`, `TableGenerator`:** YAML等で定義されたデータから、グラフやテーブルのHTMLを生成します。
- **`ContentManager`:** `content/`のYAMLを解釈し、`DocumentBuilder`等を呼び出して章ページを組み立てます。
- **`KnowledgeManager`:** 教材内の用語集やFAQなど、横断的な知識ページを生成します。
- **`MkDocsManager`:** `mkdocs.yml`を動的に生成・管理します。
- **`PlatformBuilder`:** 複数の教材を横断する機能（総合用語集、ラーニングパス）を提供します。

### 4.2 拡張性：独自機能の追加

- Core機能でカバーできない教材固有の要件（例: 特殊な外部ライブラリを使った画像生成）が発生した場合、`src/materials/[material_name]/generators/`ディレクトリ内に独自のPythonロジックを実装できます。
- `contents.py`から、この独自ロジックを呼び出すことで、Coreの汎用性を損なうことなく、教材の独自性を担保します。

---

## 5. 品質保証と検証プロセス

### 5.1 設計書検証項目

- [ ] `学習資料要件.md`で定義された品質・体験要件を満たしているか。
- [ ] `core実装機能一覧.md`に記載の機能で実現可能か。
- [ ] 各章の学習目標と内容に論理的な整合性があるか。

### 5.2 実装検証項目

- [ ] `main.py`がエラーなく実行され、サイトコンテンツが`docs/`配下に正しく生成されるか。
- [ ] `mkdocs serve`で表示した際に、レイアウト崩れや機能不全がないか。
- [ ] （将来的に導入される）`pytest`による自動テストが全てパスするか。


## 2. 基本原則と行動規範

### 2.1 最優先遵守事項（行動規範指示書より）

**【厳格な遵守が必要な行動規範】**
1. **指示の厳格な遵守** - ユーザーの最新かつ明確な指示を最優先
2. **問題解決の体系的アプローチ** - 根本原因分析 → 解決計画立案 → 実行
3. **外部知識の積極活用** - エラー発生時とユーザー入力前の必須ウェブ検索
4. **失敗からの学習** - エラー時の即座分析と修正アプローチ立案
5. **簡潔直接的コミュニケーション** - 不要な謝罪や冗長説明の回避
6. **構造評価重視** - コードの動作状態よりも最終目標への最適性を評価

### 7.2 実装例の蓄積
- 各設計書を`学習資料設計書/`に蓄積
- 成功パターンの抽出と標準化
- ベストプラクティス集の構築

## 8. トラブルシューティングと緊急対応

### 8.1 よくある問題と対処法
- **ビルドエラー** → 行動規範に従いウェブ検索 → 根本原因分析
- **コンポーネント不足** → 実装可能な機能.md確認 → 雛形生成検討
- **設計書不整合** → プロジェクト概要の標準フロー再確認

### 8.2 緊急時の優先順位
1. ユーザー指示の最優先遵守
2. 行動規範指示書の厳格適用
3. プロジェクト概要の基本原則維持

## 9. チェックリスト

### 新規学習資料作成時
- [ ] プロジェクト概要の理解完了
- [ ] 行動規範指示書の確認完了
- [ ] 学習資料設計書仕様に基づく設計書作成
- [ ] 実装可能な機能での実現可能性確認
- [ ] スクリプト生成仕様に基づく自動生成
- [ ] 品質検証項目の全チェック完了

### 継続開発時
- [ ] 既存設計書パターンの参照
- [ ] 拡張要求の適切な処理
- [ ] ドキュメント一式の更新
- [ ] トラブルシューティングガイドの活用

---

この統合指示書により、documents内の全資料が有機的に連携し、一貫した高品質なDocusaurus学習資料の効率的作成が実現されます。