# Docusaurus学習資料作成プロジェクト 統合指示書（現状システム対応版）

## 1. 本指示書の目的と位置づけ

この統合指示書は、documents内の全ての仕様書・設計書を有機的に連携させ、**現在実装されているDocusaurus + カスタムプラグインシステム**を基盤とした高品質なWeb学習資料を効率的かつ一貫して作成するための包括的なガイドです。

### 1.1 前提となる文書群の階層構造

```
統合指示書.md (本文書) ← 全体を統合する最上位指示書
├── プロジェクト概要.md ← プロジェクトの目的・構造・フローの定義
├── 行動規範指示書.md ← AI実行時の最上位行動規範
├── 学習資料設計書仕様.md ← Step 1の詳細化（対話による設計書作成）
├── スクリプト生成仕様.md ← Step 2の詳細化（自動ファイル生成）
├── 学習内容 基礎編.md ← 組込制御技術者向けカリキュラム例
├── 実装可能な機能.md ← 実装済みコンポーネント機能一覧
└── 学習資料設計書/
    └── it-embedded.md ← 学習資料設計書の実装例
```

### 1.2 現在のシステム構成

**基盤:** Docusaurus 3.8.1 + React 19 + カスタムプラグインアーキテクチャ

```
プロジェクト構成:
├── docusaurus.config.js ← Docusaurus設定（プラグイン登録済み）
├── src/components/ ← 100+の実装済みReactコンポーネント
├── plugins/ ← カスタムDocusaurusプラグイン
├── scripts/courses/[コース名]/ ← YAMLソースとビルドスクリプト
├── static/data/ ← ビルド済みJSONデータ
└── sidebars/ ← 自動生成サイドバー設定
```

## 2. 基本原則と行動規範

### 2.1 最優先遵守事項（行動規範指示書より）

**【厳格な遵守が必要な行動規範】**
1. **指示の厳格な遵守** - ユーザーの最新かつ明確な指示を最優先
2. **問題解決の体系的アプローチ** - 根本原因分析 → 解決計画立案 → 実行
3. **外部知識の積極活用** - エラー発生時とユーザー入力前の必須ウェブ検索
4. **失敗からの学習** - エラー時の即座分析と修正アプローチ立案
5. **簡潔直接的コミュニケーション** - 不要な謝罪や冗長説明の回避
6. **構造評価重視** - コードの動作状態よりも最終目標への最適性を評価

### 2.2 プロジェクトの核心目的（現状システム適用版）

- **JSONベースコンテンツ自動生成** - PythonスクリプトによるJSONデータ生成
- **カスタムプラグイン連携** - DocusaurusプラグインでのルーティングとContent Loader
- **Reactコンポーネント統合** - 100+の実装済みコンポーネントの活用
- **構造化と再利用性** - YAML/Markdown → JSON → Reactレンダリングパイプライン

## 3. 現状システムに対応した開発フロー

### Step 0: システム構成の理解（初回のみ）
- 現在のDocusaurus + カスタムプラグインシステムの理解
- 実装済みコンポーネント（130個+）の把握
- JSON → プラグイン → Reactレンダリングフローの理解

### Step 1: 対話による「学習資料設計書」の生成（現状対応版）
**参照:** `学習資料設計書仕様.md`（修正版）

#### フェーズ1: 概要設計と骨格の合意形成
1. **前提確認** - 対象読者、学習目標の合意
2. **ヒアリング** - 核となるメッセージの確認
3. **AI提案込み概要設計案の提示**
   ```markdown
   ### ★AIからの提案：学習効果を最大化するために
   - 関連技術要素の追加提案
   - 実装済みコンポーネント（130個+）からの最適選択提案
   - ComprehensiveTestPage.jsのcomponentMapを参照した具体的提案
   ```

#### フェーズ2: 詳細設計（草案）の一括生成とレビュー
1. **一括生成** - 全ページの詳細設計を`meta.yaml`、`prose.md`、`components.yaml`形式で生成
2. **実装確認** - componentMapで利用可能なコンポーネントとの整合性確認
3. **草案の提示** - 横断的な提案を含むレビュー依頼

#### フェーズ3: 集中修正と設計書最終化
- フィードバック反映による最終版作成

### Step 2: 「自動生成スクリプト」と「コンテンツソース」の生成（現状対応版）
**参照:** `スクリプト生成仕様.md`（修正版）

#### 現状システム対応の生成プロセス
1. **設計書解析** - マッピングルールに従った解析
2. **コンポーネント検証** - ComprehensiveTestPage.jsのcomponentMapとの照合
3. **ソースファイル生成** - `scripts/courses/[コース名]/`配下への一括生成
4. **プラグイン更新** - `docusaurus.config.js`への新規プラグイン追加

#### 現状対応マッピングルール
- `## 1. 資料の基本情報` → `master.yaml`（course_id, course_label）
- `## 2. 全体構成（目次）` → `master.yaml`の`sidebar`
- `## 3. 各章の詳細設計` → `source/pages/[ページID]/`
- `build.py`実行 → `static/data/[コース名]-pages.json`生成
- カスタムプラグインによる動的ルート生成

## 4. 実装済みコンポーネント活用指針

**参照:** `ComprehensiveTestPage.js`のcomponentMap（130個+ の実装済みコンポーネント）

### 4.1 主要カテゴリ別実装状況

#### UIコンポーネント（基盤系）
- **実装済み:** Button, Card, Tabs, Table, Modal, Input, Alert, Badge, Spinner
- **実装済み:** Dropdown, Switch, RadioGroup, CheckboxGroup, Tooltip, ProgressBar
- **実装済み:** DatePicker, TimePicker, FileUpload, SearchBox, NumberInput

#### レイアウト・学習支援（教育系）
- **実装済み:** Callout, SummaryBox, Accordion, ComparisonTable, FaqList
- **実装済み:** Breadcrumbs, LearningProgress, ThemeToggle, FontSizeChanger
- **実装済み:** LearningPathIndicator, SmartTooltip

#### インタラクティブ・図表（可視化系）
- **実装済み:** InteractiveFlowchart, DataFlowSimulator, Timeline, ZoomImage
- **実装済み:** ImageHighlighter, InteractiveTimeline, InteractiveSimulation
- **実装済み:** SimpleChart, Node, Slider, Hotspot, Draggable/Droppable

#### クイズ・学習評価（教育系）
- **実装済み:** MultipleChoice, FillInTheBlank, Essay, DragAndDropQuiz
- **実装済み:** MatchingPairs, ImageHotspotQuiz, QuizWrapper

#### 学習効果向上（高度機能）
- **実装済み:** FlashcardSystem, NoteTaking, BookmarkManager, KeyTerm
- **実装済み:** AudioPlayer, VideoPlayer, CodeRunner, BinaryConverter

#### データ表示・分析（分析系）
- **実装済み:** StatCard, MetricDisplay, TrendChart, DataTable, Dashboard

### 4.2 コンポーネント利用方針
1. **componentMap確認必須** - 設計時に必ずComprehensiveTestPage.jsで利用可能性を確認
2. **新規コンポーネント最小化** - 既存130個+を最大限活用、不足時のみ追加検討
3. **学習資料特化** - 教育効果を重視したコンポーネント選択

## 5. 学習カリキュラムとの連携

**参照:** `学習内容 基礎編.md`

### 5.1 組込制御技術者向け基礎カリキュラム（130時間）の構成
- **AI活用術** - 効果的なプロンプト設計、学習効率化、技術調査支援
- **プログラミング基礎** - C言語、ポインタ、オブジェクト指向
- **組込制御** - ハードウェア基礎、OS（RTOS）、通信、セキュリティ
- **開発プロセス** - Git、テスト、CI/CD、デバッグ技術

### 5.2 学習資料設計への反映指針
- 文系学生対象の場合：基礎概念中心、比喩・具体例多用
- 技術者対象の場合：実装詳細、実践演習重視
- AI活用要素の必須統合

## 6. 品質保証と検証プロセス

### 6.1 設計書検証項目
- [ ] 対象読者と学習目標の整合性
- [ ] 各章の論理的連続性
- [ ] 実装可能機能での実現可能性
- [ ] AI活用要素の適切な統合
- [ ] 専門用語の一貫した定義

### 6.2 実装検証項目
- [ ] `build.py`の正常動作
- [ ] 生成MDXファイルのDocusaurus互換性
- [ ] 新規コンポーネントの雛形生成
- [ ] ナビゲーション構造の整合性

## 7. 継続的改善とスケーラビリティ

### 7.1 拡張要求への対応プロセス
1. **新機能要求の認識** - `components.yaml`での未実装コンポーネント検出
2. **ユーザー確認** - 雛形生成の承認取得
3. **雛形自動生成** - `src/components/`への基本構造作成
4. **ドキュメント更新** - 実装可能な機能.mdへの追記

### 7.2 実装例の蓄積
- 各設計書を`学習資料設計書/`に蓄積
- 成功パターンの抽出と標準化
- ベストプラクティス集の構築

## 8. トラブルシューティングと緊急対応

### 8.1 よくある問題と対処法
- **ビルドエラー** → 行動規範に従いウェブ検索 → 根本原因分析
- **コンポーネント不足** → 実装可能な機能.md確認 → 雛形生成検討
- **設計書不整合** → プロジェクト概要の標準フロー再確認

### 8.2 緊急時の優先順位
1. ユーザー指示の最優先遵守
2. 行動規範指示書の厳格適用
3. プロジェクト概要の基本原則維持

## 9. チェックリスト

### 新規学習資料作成時
- [ ] プロジェクト概要の理解完了
- [ ] 行動規範指示書の確認完了
- [ ] 学習資料設計書仕様に基づく設計書作成
- [ ] 実装可能な機能での実現可能性確認
- [ ] スクリプト生成仕様に基づく自動生成
- [ ] 品質検証項目の全チェック完了

### 継続開発時
- [ ] 既存設計書パターンの参照
- [ ] 拡張要求の適切な処理
- [ ] ドキュメント一式の更新
- [ ] トラブルシューティングガイドの活用

---

この統合指示書により、documents内の全資料が有機的に連携し、一貫した高品質なDocusaurus学習資料の効率的作成が実現されます。